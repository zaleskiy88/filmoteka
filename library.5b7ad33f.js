function e(e){return e&&e.__esModule?e.default:e}var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},l={},a=n.parcelRequire3143;null==a&&((a=function(e){if(e in t)return t[e].exports;if(e in l){var n=l[e];delete l[e];var a={id:e,exports:{}};return t[e]=a,n.call(a.exports,a,a.exports),a.exports}var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,n){l[e]=n},n.parcelRequire3143=a);var o=a("d1WZ0");var r=e(a("amrNH")).template({1:function(e,n,t,l,a){var o,r,i=null!=n?n:e.nullContext||{},u=e.hooks.helperMissing,s="function",c=e.escapeExpression,d=e.lookupProperty||function(e,n){if(Object.prototype.hasOwnProperty.call(e,n))return e[n]};return"  <div class='movie-card'>\n"+(null!=(o=d(t,"if").call(i,null!=n?d(n,"poster_path"):n,{name:"if",hash:{},fn:e.program(2,a,0),inverse:e.program(4,a,0),data:a,loc:{start:{line:3,column:4},end:{line:15,column:11}}}))?o:"")+"\n    <div class='movie-data'>\n      <h5 class='movie-name'>"+c(typeof(r=null!=(r=d(t,"name")||(null!=n?d(n,"name"):n))?r:u)===s?r.call(i,{name:"name",hash:{},data:a,loc:{start:{line:18,column:29},end:{line:18,column:37}}}):r)+"</h5>\n      <p class='movie-info'>"+c(typeof(r=null!=(r=d(t,"genres")||(null!=n?d(n,"genres"):n))?r:u)===s?r.call(i,{name:"genres",hash:{},data:a,loc:{start:{line:19,column:28},end:{line:19,column:38}}}):r)+"\n        |\n        "+c(typeof(r=null!=(r=d(t,"release")||(null!=n?d(n,"release"):n))?r:u)===s?r.call(i,{name:"release",hash:{},data:a,loc:{start:{line:21,column:8},end:{line:21,column:19}}}):r)+"\n        <span class='movie-vote'>"+c(typeof(r=null!=(r=d(t,"vote_average")||(null!=n?d(n,"vote_average"):n))?r:u)===s?r.call(i,{name:"vote_average",hash:{},data:a,loc:{start:{line:22,column:33},end:{line:22,column:49}}}):r)+"</span></p>\n    </div>\n  </div>\n"},2:function(e,n,t,l,a){var o,r=null!=n?n:e.nullContext||{},i=e.hooks.helperMissing,u="function",s=e.escapeExpression,c=e.lookupProperty||function(e,n){if(Object.prototype.hasOwnProperty.call(e,n))return e[n]};return"      <img\n        src='https://image.tmdb.org/t/p/w500"+s(typeof(o=null!=(o=c(t,"poster_path")||(null!=n?c(n,"poster_path"):n))?o:i)===u?o.call(r,{name:"poster_path",hash:{},data:a,loc:{start:{line:5,column:44},end:{line:5,column:59}}}):o)+"'\n        alt="+s(typeof(o=null!=(o=c(t,"name")||(null!=n?c(n,"name"):n))?o:i)===u?o.call(r,{name:"name",hash:{},data:a,loc:{start:{line:6,column:12},end:{line:6,column:20}}}):o)+"\n        data-id='"+s(typeof(o=null!=(o=c(t,"id")||(null!=n?c(n,"id"):n))?o:i)===u?o.call(r,{name:"id",hash:{},data:a,loc:{start:{line:7,column:17},end:{line:7,column:23}}}):o)+"'\n      />\n"},4:function(e,n,t,l,a){var o,r=null!=n?n:e.nullContext||{},i=e.hooks.helperMissing,u="function",s=e.escapeExpression,c=e.lookupProperty||function(e,n){if(Object.prototype.hasOwnProperty.call(e,n))return e[n]};return"      <img\n        src='https://i.ibb.co/dJhXHZt/filmoteka.png'\n        alt="+s(typeof(o=null!=(o=c(t,"name")||(null!=n?c(n,"name"):n))?o:i)===u?o.call(r,{name:"name",hash:{},data:a,loc:{start:{line:12,column:12},end:{line:12,column:20}}}):o)+"\n        data-id='"+s(typeof(o=null!=(o=c(t,"id")||(null!=n?c(n,"id"):n))?o:i)===u?o.call(r,{name:"id",hash:{},data:a,loc:{start:{line:13,column:17},end:{line:13,column:23}}}):o)+"'\n      />\n"},compiler:[8,">= 4.3.0"],main:function(e,n,t,l,a){var o;return null!=(o=(e.lookupProperty||function(e,n){if(Object.prototype.hasOwnProperty.call(e,n))return e[n]})(t,"each").call(null!=n?n:e.nullContext||{},n,{name:"each",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a,loc:{start:{line:1,column:0},end:{line:25,column:9}}}))?o:""},useData:!0}),i=a("7PKrS"),u=a("ew5fA"),s=a("amyG6"),c=a("hAoKW"),d=a("ce25Z"),p=a("2shzp").default;d.default.btnWatched.addEventListener("click",y),d.default.btnQueue.addEventListener("click",y),d.default.btnSignOut.addEventListener("click",u.default.logOut);let m,f=1,h=!1,g="btn-queue";const v=(0,s.getAuth)();async function y(e){g=e.target.id,function(e){if("btn-watched"===e&&!d.default.btnWatched.classList.contains("active-btn"))return d.default.btnWatched.classList.toggle("active-btn"),void d.default.btnQueue.classList.toggle("active-btn");"btn-queue"!==e||d.default.btnQueue.classList.contains("active-btn")||(d.default.btnQueue.classList.toggle("active-btn"),d.default.btnWatched.classList.toggle("active-btn"))}(g),d.default.galleryLibrary.innerHTML="",f=1,await(0,i.default)(g,e).then(b)}async function b(e){m=e;let n=12*(f-1),t=e.slice(n,n+12);t=await async function(e){document.body.style.cursor="wait";const n=await Promise.all(e.map((async e=>{var n;return(e=(e=await p.get(`https://api.themoviedb.org/3/movie/${e}`,{params:{api_key:o.default.API_KEY,language:"ru-RU"}})).data).name=e.title.toUpperCase(),e.release=(null===(n=e.release_date)||void 0===n?void 0:n.slice(0,4))||2022,e.genres=e.genres.map((e=>e.name)),e})));return Promise.resolve(n)}(t),d.default.galleryLibrary.insertAdjacentHTML("beforeend",r(t)),document.body.style.cursor="default",h=!0}(0,s.onAuthStateChanged)(v,(e=>{e&&((0,i.default)(g).then(b),d.default.googleUserLibrary.textContent=c.default.userEmail)})),window.addEventListener("scroll",(()=>{document.documentElement.getBoundingClientRect().bottom<document.documentElement.clientHeight+150&&h&&m.length/12>=f&&(h=!1,f++,b(m)),window.pageYOffset>70?d.default.upBtn.classList.add("on-screen"):d.default.upBtn.classList.remove("on-screen")}));
//# sourceMappingURL=library.5b7ad33f.js.map
